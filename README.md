# AgriVoice: The Multilingual Crop Doctor ğŸŒ½ğŸ¤–

An EcoRevolution Hackathon Project empowering small-scale farmers with AI-driven crop diagnostics in their local language.

## ğŸ‘¥ The Team

| Name | Role | Focus Areas |
|------|------|-------------|
| **Kalanza** | ğŸ§  Backend AI Lead | Python, FastAPI, Azure Vision/GPT-4, Prompt Engineering |
| **Oram** | ğŸ“± Frontend Lead | React, PWA, Mobile UI/UX, Camera Logic |
| **Lewis** | âš™ï¸ Integration Lead | Copilot Studio, Microsoft Fabric, DevOps |

## ğŸ“– Project Overview

AgriVoice is an accessible, mobile-first web application designed to help farmers diagnose crop diseases using Artificial Intelligence. By bridging the gap between advanced technology and rural agriculture, we aim to promote sustainable farming practices and reduce crop loss.

### Key Features

- **Visual Diagnosis**: Snap a photo of a sick plant to detect diseases using Azure Computer Vision
- **AI Agronomist**: Get organic, sustainable treatment plans generated by Azure GPT-4.0
- **Multilingual Support**: All advice translated into the farmer's local language (e.g., Swahili)
- **Voice-First Interface**: "Talk" to the app instead of typing, powered by Azure Speech Services
- **Sustainability Dashboard**: Tracking disease outbreaks to inform community action

## ğŸ› ï¸ Tech Stack

- **Frontend**: React (Vite), Node.js, PWA capabilities
- **Backend**: Python, FastAPI, Uvicorn
- **AI Services**: Azure Computer Vision, Azure OpenAI (GPT-4), Azure Speech, Azure Translator
- **Integration**: Microsoft Copilot Studio, Power Automate
- **Data**: Microsoft Fabric

## ğŸš€ Getting Started

### Prerequisites

- Node.js & npm
- Python 3.9+
- Git

### 1. Backend Setup (Python/FastAPI)

```bash
# Navigate to the backend folder
cd backend-ai

# Create and activate a virtual environment (recommended)
python -m venv venv
# Windows: venv\Scripts\activate
# Mac/Linux: source venv/bin/activate

# Install dependencies
pip install -r requirements.txt

# Run the Backend Server
uvicorn app.main:app --reload
```

The API will be available at **http://localhost:8000**

### 2. Frontend Setup (React)

Open a new terminal and run:

```bash
# Navigate to the frontend folder
cd frontend-pwa

# Install dependencies
npm install

# Run the Frontend Development Server
npm run dev
```

The App will be available at **http://localhost:5173**

## ğŸ“‚ Project Structure

```
AgriVoice/
â”œâ”€â”€ backend-ai/                # Python FastAPI Backend
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py            # API Entry point
â”‚   â”‚   â”œâ”€â”€ services/          # Azure integration logic
â”‚   â”‚   â””â”€â”€ routers/           # API Endpoints
â”œâ”€â”€ frontend-pwa/              # React Frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # UI Components
â”‚   â”‚   â”œâ”€â”€ pages/             # App Pages
â”‚   â”‚   â””â”€â”€ services/          # API connection logic
â”œâ”€â”€ dashboard-admin/           # Analytics Dashboard
â”œâ”€â”€ copilot-config/            # Microsoft Copilot Studio definitions
â””â”€â”€ README.md                  # Project Documentation
```

## ğŸ” Environment Variables

Create a `.env` file in the `backend-ai` directory with your Azure keys:

```env
AZURE_VISION_KEY=your_key_here
AZURE_VISION_ENDPOINT=your_endpoint_here
AZURE_OPENAI_KEY=your_key_here
AZURE_OPENAI_ENDPOINT=your_endpoint_here
AZURE_SPEECH_KEY=your_key_here
AZURE_SPEECH_REGION=your_region_here
AZURE_TRANSLATOR_KEY=your_key_here
AZURE_TRANSLATOR_REGION=your_region_here
ENVIRONMENT=development
DEBUG=True
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
```

## ğŸ“š Documentation

- **Backend**: See `backend-ai/README.md`
- **Frontend**: See `frontend-pwa/README.md`
- **Copilot**: See `copilot-config/README.md`
- **Quick Start**: See `QUICKSTART.md`

## ğŸ¯ API Endpoints

- `POST /api/v1/analyze-image` - Analyze crop image
- `POST /api/v1/diagnose` - Get AI diagnosis
- `POST /api/v1/speech-to-text` - Convert voice to text
- `POST /api/v1/text-to-speech` - Convert text to voice

## ğŸŒ Supporting African Agriculture

AgriVoice aims to democratize access to agricultural expertise, bringing world-class AI diagnostics to small-scale farmers in Africa.

---

**Status**: Production Ready âœ…  
**Last Updated**: November 24, 2025

## ğŸš€ Quick Start

### Prerequisites
- Node.js 18+
- Python 3.11+
- Azure subscription with:
  - Computer Vision API
  - OpenAI API (GPT-4)
  - Speech Services
  - Optional: Microsoft Fabric

### 1. Clone & Setup

```bash
git clone <repo-url>
cd AgriVoice

# Create git branches for each team
git checkout -b dev
git checkout -b feat/backend-api    # Kalanza
git checkout -b feat/frontend-ui    # Oram
git checkout -b feat/copilot-integrations  # Lewis
```

### 2. Backend Setup (Kalanza)

```bash
cd backend-ai

# Create virtual environment
python -m venv venv
source venv/Scripts/activate  # Windows
# or: source venv/bin/activate  # Linux/Mac

# Install dependencies
pip install -r requirements.txt

# Setup environment
cp .env.example .env
# Edit .env and add your Azure keys

# Run development server
python -m uvicorn app.main:app --reload
# API runs at http://localhost:8000
```

### 3. Frontend Setup (Oram)

```bash
cd frontend-pwa

# Install dependencies
npm install

# Setup environment
cp .env.example .env
# Verify VITE_API_URL points to backend

# Run development server
npm run dev
# App runs at http://localhost:5173
```

### 4. Dashboard Setup (Lewis)

```bash
cd dashboard-admin

# Install dependencies
npm install

# Run development server
npm run dev
# Dashboard runs at http://localhost:5174
```

## ğŸ“š API Documentation

### Backend Endpoints

#### 1. **Image Analysis**
```
POST /api/v1/analyze-image
Content-Type: multipart/form-data

Request:
- file: <image file>

Response:
{
  "tags": ["leaf", "brown spots", "fungus"],
  "objects": ["leaf", "stem"],
  "description": "A maize plant with rust spots",
  "confidence": 0.95
}
```

#### 2. **Diagnosis**
```
POST /api/v1/diagnose
Content-Type: application/json

Request:
{
  "image_tags": ["leaf", "brown spots"],
  "user_question": "Why are my leaves turning brown?",
  "crop_type": "maize",
  "region": "East Africa",
  "farmer_id": "farmer_123"
}

Response:
{
  "disease_name": "Leaf Rust",
  "severity": "high",
  "confidence": 0.92,
  "diagnosis": "Your maize shows signs of rust fungal disease...",
  "organic_solutions": [
    "Apply sulfur dust every 7 days",
    "Remove infected leaves",
    "Improve crop spacing for ventilation"
  ],
  "prevention": ["Rotate crops annually", "Use disease-resistant varieties"],
  "estimated_recovery_days": 14,
  "recommended_practices": ["Monitor daily", "Ensure proper drainage"]
}
```

#### 3. **Speech-to-Text**
```
POST /api/v1/speech-to-text
Content-Type: multipart/form-data

Request:
- file: <audio file>

Response:
{
  "text": "Why is my maize sick?",
  "confidence": 0.89
}
```

#### 4. **Text-to-Speech**
```
POST /api/v1/text-to-speech?text=Your crop has rust disease...&save_file=true

Response:
{
  "status": "success",
  "file": "/tmp/audio_output.wav"
}
```

## ğŸ” Environment Variables

### Backend (.env)

```bash
# Azure Credentials
AZURE_VISION_ENDPOINT=https://region.api.cognitive.microsoft.com/
AZURE_VISION_KEY=your_key_here

AZURE_OPENAI_ENDPOINT=https://deployment.openai.azure.com/
AZURE_OPENAI_KEY=your_key_here
AZURE_OPENAI_MODEL=gpt-4

AZURE_SPEECH_KEY=your_key_here
AZURE_SPEECH_REGION=your_region

# Microsoft Fabric
FABRIC_WORKSPACE_ID=your_workspace_id
FABRIC_LAKEHOUSE_ID=your_lakehouse_id

# App Config
ENVIRONMENT=development
DEBUG=True
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
```

### Frontend (.env)

```bash
VITE_API_URL=http://localhost:8000
```

## ğŸ³ Docker Deployment

### Build Backend Image
```bash
cd backend-ai
docker build -t agrivoice-backend:latest .
docker run -p 8000:8000 \
  -e AZURE_VISION_KEY=your_key \
  -e AZURE_OPENAI_KEY=your_key \
  agrivoice-backend:latest
```

### Deploy to Cloud

**Option 1: Render.com**
```bash
# Deploy FastAPI
git push heroku main

# Or use Render dashboard
# - Connect repo
- Select `backend-ai` as root
- Set environment variables
```

**Option 2: Azure App Service**
```bash
az webapp create --resource-group mygroup --plan myplan --name agrivoice-api
az webapp up --name agrivoice-api
```

**Option 3: Railway.app**
```bash
railway link
railway up
```

## ğŸ“Š Phase Timeline

### Phase 1: Setup & Initialization (Day 1-2)
- âœ… Create monorepo structure
- âœ… Setup .gitignore and git branches
- âœ… Initialize all three sub-projects
- ğŸ“ Everyone clones and verifies local setup

### Phase 2: Development (Day 3-10)
- **Kalanza**: Build FastAPI endpoints + Azure integration
- **Oram**: Build React UI + Camera/Audio components
- **Lewis**: Setup Copilot Studio bot + Dashboard

### Phase 3: Integration & Polish (Day 11-15)
- Deploy backend to production URL
- Connect Copilot Studio to production API
- Deploy frontend to Vercel/Netlify
- Create demo video
- Document deployment steps

## ğŸ¯ Key Features

### Frontend
- âœ… Mobile-first responsive design
- âœ… Camera capture (rear-facing for farmers)
- âœ… Audio recording for voice questions
- âœ… Real-time image analysis
- âœ… Beautiful results display
- âœ… Offline-first PWA
- âœ… Service Worker for caching

### Backend
- âœ… FastAPI for high performance
- âœ… Azure Computer Vision integration
- âœ… Azure OpenAI/GPT-4 for diagnosis
- âœ… Azure Speech-to-Text/Text-to-Speech
- âœ… Microsoft Fabric logging
- âœ… RESTful API with proper error handling
- âœ… CORS support

### Copilot Integration
- âœ… Custom actions for crop diagnosis
- âœ… Voice input support
- âœ… Image analysis integration
- âœ… Multi-topic support

## ğŸ§ª Testing

### Backend Tests
```bash
cd backend-ai
pytest tests/
# Or with coverage:
pytest --cov=app tests/
```

### Frontend Tests
```bash
cd frontend-pwa
npm run test
```

## ğŸ“ Git Workflow

```bash
# Create feature branch
git checkout -b feat/your-feature

# Make changes
git add .
git commit -m "feat: description of changes"

# Push to origin
git push origin feat/your-feature

# Create Pull Request
# Request reviews from team members
# Once approved, merge to dev

# For production:
git checkout main
git merge dev
git push origin main
```

## ğŸš¨ Common Issues & Solutions

### Issue: Azure API Key not found
**Solution**: Ensure `.env` file exists and contains all required keys
```bash
cp .env.example .env
# Edit .env with your actual keys
```

### Issue: CORS errors when calling backend
**Solution**: Update `CORS_ORIGINS` in backend `.env`
```bash
CORS_ORIGINS=["http://localhost:3000", "http://localhost:5173"]
```

### Issue: Port already in use
**Solution**: Change port or kill existing process
```bash
# Backend on different port
uvicorn app.main:app --port 8001

# Frontend
npm run dev -- --port 5174
```

## ğŸ“ Support & Documentation

- **Backend Docs**: `/backend-ai/README.md`
- **Frontend Docs**: `/frontend-pwa/README.md`
- **Dashboard Docs**: `/dashboard-admin/README.md`
- **Copilot Guide**: `/copilot-config/README.md`

## ğŸ¤ Team Roles

| Role | Person | Focus | Tools |
|------|--------|-------|-------|
| AI Backend Lead | Kalanza | Python, FastAPI, Azure SDKs | Python, FastAPI, Azure |
| Frontend Lead | Oram | React, PWA, Mobile UI | React, Vite, TailwindCSS |
| DevOps & Integration | Lewis | Copilot Studio, Deployment, Dashboard | Node.js, Copilot Studio, Docker |

## ğŸ“„ License

MIT License - See LICENSE file for details

## ğŸ™ Acknowledgments

- Microsoft for Azure AI services
- OpenAI for GPT-4 API
- React and FastAPI communities
- Hackathon organizers and mentors

---

**Last Updated**: November 24, 2024
**Version**: 1.0.0
**Status**: Phase 1 - Initialization Complete âœ…
